generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native"]
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Bcard {
  id              Int                   @id @default(autoincrement())
  owner           User                  @relation(fields: [user_id], references: [id])
  profession      Profession            @relation(fields: [profession_id], references: [id])
  specializations Bcardspecialization[]
  user_id         Int
  profession_id   Int
}

model Profession {
  id    Int     @id @unique @default(autoincrement())
  type  String  @unique
  Bcard Bcard[]
}

model Bcardspecialization {
  id                Int            @id @default(autoincrement())
  specialization    Specialization @relation(fields: [specialization_id], references: [id])
  years_exp         Int
  Bcard             Bcard?         @relation(fields: [Bcard_id], references: [id])
  Bcard_id          Int
  specialization_id Int
}

model Specialization {
  id                   Int                   @id @unique @default(autoincrement())
  type                 String                @unique
  profession_id        Int
  Bcardspecializations Bcardspecialization[]
}

model User {
  id           Int     @id @unique @default(autoincrement())
  name         String
  email        String? @unique
  password     String?
  phone_number String?
  user_type_id Int?    @default(1)
  bcard        Bcard[]
}
